---
title: "data-split"
author: "jvicentem"
date: "10 August 2017"
output: html_document
---

```{r setup, message=FALSE, warning=FALSE}
source('utils.R')

library(tidyverse)

library(caret)
```

```{r train-validation-test-splits}
# The idea is to keep the different sets of values we generated in the missing data imputation stage. I'm gonna stick with the Predictive Mean Matching method.

set.seed(seed)

train_index <- createDataPartition(complete(pmm_imp, action = 1)$quality, 
                                   p = .8, 
                                   list = FALSE, 
                                   times = 1)

train_set_1 <- complete(pmm_imp, action = 1)[train_index,]
train_set_2 <- complete(pmm_imp, action = 2)[train_index,]
train_set_3 <- complete(pmm_imp, action = 3)[train_index,]

actual_train_index <- createDataPartition(train_set_1$quality, 
                                        p = .8, 
                                        list = FALSE, 
                                        times = 1)

train_sets <- list(train_set_1[actual_train_index,], train_set_2[actual_train_index,], train_set_3[actual_train_index,])

validation_sets <- list(train_set_1[-actual_train_index,], train_set_2[-actual_train_index,], train_set_3[-actual_train_index,])

test_set_1 <- complete(pmm_imp, action = 1)[-train_index,]
test_set_2 <- complete(pmm_imp, action = 2)[-train_index,]
test_set_3 <- complete(pmm_imp, action = 3)[-train_index,]

test_sets <- list(test_set_1, test_set_2, test_set_3)
```

